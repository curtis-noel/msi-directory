<% provide(:title, "Users") %>
<% content_for(:header_title, "Users") %>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1 style="text-align:center;">
        Users
      </h1>
      <!--Button Group-->
      <%= render partial: 'partials/admin_btn_group', locals: {:back_url => 'admin', :new_url => 'users', :new => true} %>
      <br/>

      <% if @users.length > 0 %>
        <div class="panel panel-default">
          <div class="panel-body table-responsive">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <!-- <th alt="Name" title="Name">Name</th> -->
                  <th alt="Name" title="Name">Name</th>
                  <th alt="Username" title="Username">Username</th>
                  <th alt="Email" title="Email">Email</th>
                  <th alt="Sign In Count" title="Sign In Count">Sign In Count</th>
                  <th alt="Last Sign In At" title="Last Sign In At">Last Sign In At</th>
                  <th alt="View" title="View">View</th>
                  <th alt="Delete" title="Delete">Delete</th>
                </tr>
              </thead>

              <tbody>
                <% @users.each do |user| %>
                  <% @user_records.each do |record| %>
                    <%= render partial: 'index_table_record', locals: {:user => user, :value => record } %>
                  <% end %>
                    <td><%= link_to "View", user_path(user), alt: "View #{user.name}", title: "View #{user.name}" %></td>
                    <td><%= link_to "Delete", user, method: :delete, data: {confirm: 'Are you sure?' }, alt: "Delete #{user.name}", title: "Delete #{user.name}" %></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      <% else %>
        <div class="alert alert-info" style="text-align:center;">No Users Found!</div>
      <% end %>

    </div>
  </div>
</div>
