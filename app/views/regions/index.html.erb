<% provide(:title, "Regions") %>
<% content_for(:header_title, "Regions") %>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1 style="text-align:center;">
        Regions
      </h1>

      <!--Button Group-->
      <%= render partial: 'partials/admin_btn_group', locals: {:back_url => 'admin', :new_url => 'regions', :new => true} %>
      <br/>

      <% if @regions.length > 0 %>
      <div class="panel panel-default">
        <div class="panel-body table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th alt="Name" title="Name">Name</th>
                <th alt="Edit" title="Edit">Edit</th>
                <th alt="Delete" title="Delete">Delete</th>
              </tr>
            </thead>

            <tbody>
              <% @regions.each do |region| %>
              <tr>
                <% @region_records.each do |record| %>
                <%= render partial: 'index_table_record', locals: {:region => region, :value => record } %>
                <% end %>
                <td><%= link_to "Edit", edit_region_path(region), alt: "Edit #{region.name}", title: "Edit #{region.name}" %></td>
                <td><%= link_to "Delete", region, method: :delete, data: {confirm: 'Are you sure?' }, alt: "Delete #{region.name}", title: "Delete #{region.name}" %></td>
              </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
      <% else %>
      <div class="alert alert-info" style="text-align:center;">No Regions Found!</div>
      <% end %>

    </div>
  </div>
</div>
