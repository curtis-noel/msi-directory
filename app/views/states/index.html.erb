<% provide(:title, "States") %>
<% content_for(:header_title, "States") %>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1 style="text-align:center;">
        States
      </h1>
      <!--Button Group-->
      <%= render partial: 'partials/admin_btn_group', locals: {:back_url => 'admin', :new_url => 'states', :new => true} %>
      <br/>

      <% if @states.length > 0 %>
      <div class="panel panel-default">
        <div class="panel-body table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th alt="Name" title="Name">Name</th>
                <th alt="Abbreviation" title="Abbreviation">Abbreviation</th>
                <th alt="Region" title="Region">Region</th>
                <th alt="Edit" title="Edit">Edit</th>
                <th alt="Delete" title="Delete">Delete</th>
              </tr>
            </thead>

            <tbody>
              <% @states.each do |state| %>
                <tr>
                  <% @state_records.each do |record| %>
                  <%= render partial: 'index_table_record', locals: {:state => state, :value => record } %>
                  <% end %>
                  <td><%= link_to "Edit", edit_state_path(state) %></td>
                  <td><%= link_to "Delete", state, method: :delete, data: {confirm: 'Are you sure?' } %> </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
      <% else %>
      <div class="alert alert-info" style="text-align:center;">No States Found!</div>
      <% end %>

    </div>
  </div>
</div>
